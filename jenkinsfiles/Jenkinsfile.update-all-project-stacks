elifePipeline({
    // there has to be a list of these things out there, right?
    project_envlist = [
        ["annotations", "continuumtest,end2end,prod"],
        ["api-dummy", "demo"],
        ["api-gateway", "continuumtest,end2end"],
        ["bastion", "prod"],
        ["bioprotocol", "continuumtest,ci,end2end,prod"],
        ["digests", "continuumtest,end2end,prod"],
        ["elife-bot", "continuumtest,ci,end2end,prod"],
        ["elife-dashboard", "continuumtest,ci,end2end,prod"],
        ["elife-libraries", "powerful3,spectrum,load,ci"],
        ["elife-metrics", "continuumtest,ci,end2end,prod"],
        ["iiif", "continuumtest,ci,end2end,prod"],
        ["journal-cms", "continuumtest,ci,end2end,prod"],
        ["journal", "continuumtestpreview,demo,preview,continuumtest,end2end,prod"],
        ["lax", "continuumtest,ci,end2end,prod"],
        ["observer", "ci,end2end,prod"],
        ["pattern-library", "prod"],
        ["personalised-covers", "continuumtest,ci,end2end,prod"],
        ["profiles", "continuumtest,end2end,prod"],
        ["recommendations", "continuumtest,ci,end2end,prod"],
        ["redirects", "ci,prod"],
        ["search", "continuumtest,ci,end2end,prod"],
    ]
    actions = [:]
    for (int i = 0; i < project_envlist.size(); i++) {
        final project = project_envlist[i][0]
        final envlist = project_envlist[i][1]
        actions[project] = {
            elifeUpdateProjectByEnv(project.toString(), envlist.toString());
        }
    }
    parallel actions
})
